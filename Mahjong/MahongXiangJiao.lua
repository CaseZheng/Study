local bit = require("bit")

--每张牌的属性定义--
--32bit
--|32------|24------|16-----|8-----0|
--|  状态  | 序列号 | 花色  |  牌面 |  
MJS = {
        0x0111, 0x0211, 0x0311, 0x0411,  --一万 第一个 第二个 第三个 第四个
        0x0112, 0x0212, 0x0312, 0x0412,  --二万
        0x0113, 0x0213, 0x0313, 0x0413,  --三万
        0x0114, 0x0214, 0x0314, 0x0414,  --四万
        0x0115, 0x0215, 0x0315, 0x0415,  --五万
        0x0116, 0x0216, 0x0316, 0x0416,  --六万
        0x0117, 0x0217, 0x0317, 0x0417,  --七万
        0x0118, 0x0218, 0x0318, 0x0418,  --八万
        0x0119, 0x0219, 0x0319, 0x0419,  --九万

        0x0121, 0x0221, 0x0321, 0x0421,  --一筒 第一个 第二个 第三个 第四个
        0x0122, 0x0222, 0x0322, 0x0422,  --二筒
        0x0123, 0x0223, 0x0323, 0x0423,  --三筒
        0x0124, 0x0224, 0x0324, 0x0424,  --四筒
        0x0125, 0x0225, 0x0325, 0x0425,  --五筒
        0x0126, 0x0226, 0x0326, 0x0426,  --六筒
        0x0127, 0x0227, 0x0327, 0x0427,  --七筒
        0x0128, 0x0228, 0x0328, 0x0428,  --八筒
        0x0129, 0x0229, 0x0329, 0x0429,  --九筒

        0x0131, 0x0231, 0x0331, 0x0431,  --一条 第一个 第二个 第三个 第四个
        0x0132, 0x0232, 0x0332, 0x0432,  --二条 
        0x0133, 0x0233, 0x0333, 0x0433,  --三条 
        0x0134, 0x0234, 0x0334, 0x0434,  --四条 
        0x0135, 0x0235, 0x0335, 0x0435,  --五条 
        0x0136, 0x0236, 0x0336, 0x0436,  --六条
        0x0137, 0x0237, 0x0337, 0x0437,  --七条
        0x0138, 0x0238, 0x0338, 0x0438,  --八条
        0x0139, 0x0239, 0x0339, 0x0439,  --九条

        0x0141, 0x0241, 0x0341, 0x0441,  --东风 第一个 第二个 第三个 第四个
        0x0142, 0x0242, 0x0342, 0x0442,  --南风 
        0x0143, 0x0243, 0x0343, 0x0443,  --西风 
        0x0144, 0x0244, 0x0344, 0x0444,  --北风 

        0x0151, 0x0251, 0x0351, 0x0451,  --中 第一个 第二个 第三个 第四个
        0x0152, 0x0252, 0x0352, 0x0452,  --發
        0x0153, 0x0253, 0x0353, 0x0453,  --白

        0x0161,   --春
        0x0162,   --夏
        0x0163,   --秋
        0x0164,   --冬
        0x0165,   --梅
        0x0166,   --兰
        0x0167,   --竹
        0x0168,   --菊 
}

--得到牌的状态
function GetCardState(card)
    return bit.rshift(card, 24)
end

--得到牌的下标
function GetCardIndex(card)
    return bit.rshift(bit.band(card,0x0F00), 16)
end

--得到牌的花色  万1 筒2 条3 风4 字5 花6
function GetCardSuit(card)
    return bit.rshift(bit.band(card,0x00F0), 8)
end

--得到牌的面值
function GetCardFace(card)
    return bit.band(card,0xFFF0)
end

function IsWan(card)
    return GetCardSuit(card) == 0x1
end

function IsTong(card)
    return GetCardSuit(card) == 0x2
end

function IsTiao(card)
    return GetCardSuit(card) == 0x3
end

function IsFeng(card)
    return GetCardSuit(card) == 0x4
end

function IsZi(card)
    return GetCardSuit(card) == 0x5
end

function IsHua(card)
    return GetCardSuit(card) == 0x6
end

hand = {num=0, {num=0,}, {num=0,}, {num=0,}, {num=0,}, {num=0,}, {num=0,}}; 

function Group(mahjongHand)
end
